window.REBASE=window.REBASE||{},REBASE.theme=REBASE.theme||{},REBASE.theme.collection=REBASE.theme.collection||{},function($){var getSVGIcon=function(handle){return"caret-down"===handle?'<svg fill="none" height="7" viewBox="0 0 12 7" width="12" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m1.21289.5c-.667968 0-1.001952.81641-.519531 1.29883l4.750001 4.75c.29687.29687.7793.29687 1.07617 0l4.74997-4.75c.4825-.48242.1485-1.29883-.5195-1.29883z"/></svg>':handle.includes("Price")?'<svg fill="none" height="13" viewBox="0 0 16 13" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m11.54 4.2734 2.2265-2.414c.4922-.4922.1406-1.3594-.5625-1.3594h-11.92969c-.703097 0-1.054597.8672-.562497 1.3594l4.289097 4.6406v3.1875c0 .375.1641.7031.4453.9141l2.25 1.6875c.2109.1406.4453.2343.6563.2343.3984 0 .7734-.2109.9609-.5625.6094.3516 1.31249.5391 2.06249.5391 2.2734 0 4.125-1.8281 4.125-4.125 0-2.2031-1.7578-4.0078-3.9609-4.1016zm-3.18749 7.1016-2.2266-1.6875v-3.6094l-4.0781-4.4531h10.38279l-2.71879 2.9766c-1.4531.6562-2.4609 2.1093-2.4609 3.7734 0 1.1016.4219 2.1094 1.1016 2.8359zm3.02339 0c-1.66409 0-2.99999-1.3359-2.99999-3 0-1.6406 1.3359-3 2.99999-3 1.6406 0 3 1.3594 3 3 0 1.6641-1.3594 3-3 3zm.6328-3.1875-1.0547-.3281c-.1406-.0235-.2109-.1406-.2109-.2813 0-.1875.1172-.3281.2812-.3281h.6563c.0937 0 .2109.0469.3047.0938.0703.0468.164.0468.2344-.0235l.2578-.2578c.0937-.0703.0937-.2109 0-.2813-.211-.164-.4688-.2578-.75-.2578v-.3984c0-.0938-.0704-.1875-.1875-.1875h-.375c-.0938 0-.1875.0937-.1875.1875v.3984c-.5391 0-.98439.4688-.98439 1.0547 0 .4688.30469.8672.72659 1.0078l1.0546.3282c.1407.0234.211.1406.211.2812 0 .1875-.1172.3047-.2813.3047h-.6562c-.0938 0-.211-.0234-.3047-.0703-.0703-.0469-.1641-.0469-.2344.0234l-.2578.2578c-.0938.0703-.0938.211 0 .2813.2109.164.4688.2578.75.2578v.375c0 .1172.0703.1875.1875.1875h.375c.0937 0 .1875-.0703.1875-.1875v-.375c.5391 0 .9844-.4688.9844-1.0547 0-.4687-.3047-.8906-.7266-1.0078z" fill="currentColor"/></svg>':"New Arrivals"===handle?'<svg fill="none" height="13" viewBox="0 0 12 13" width="12" xmlns="http://www.w3.org/2000/svg"><path d="m6 .6875c-3.21094 0-5.8125 2.60156-5.8125 5.8125s2.60156 5.8125 5.8125 5.8125 5.8125-2.60156 5.8125-5.8125-2.60156-5.8125-5.8125-5.8125zm0 10.5c-2.60156 0-4.6875-2.08594-4.6875-4.6875 0-2.57812 2.08594-4.6875 4.6875-4.6875 2.57812 0 4.6875 2.10938 4.6875 4.6875 0 2.60156-2.10938 4.6875-4.6875 4.6875zm1.42969-2.4375c.14062.09375.30469.07031.39843-.07031l.44532-.58594c.09375-.14063.07031-.30469-.07032-.39844l-1.54687-1.14843v-3.32813c0-.14063-.14063-.28125-.28125-.28125h-.75c-.16406 0-.28125.14062-.28125.28125v3.86719c0 .07031.02344.16406.09375.21094z" fill="currentColor"/></svg>':"Best Sellers"===handle?'<svg fill="none" height="13" viewBox="0 0 13 13" width="13" xmlns="http://www.w3.org/2000/svg"><path d="m8.59375 2.9375 1.40625.5625.5625 1.40625c.0469.07031.0937.11719.1875.11719.0703 0 .1172-.04688.1641-.11719l.5859-1.40625 1.3828-.5625c.0703-.04688.1172-.09375.1172-.1875 0-.07031-.0469-.11719-.1172-.16406l-1.3828-.58594-.5859-1.382812c-.0469-.070313-.0938-.117188-.1875-.117188-.0704 0-.1172.046875-.1641.117188l-.5625 1.382812-1.40625.58594c-.07031.04687-.11719.09375-.11719.1875 0 .07031.04688.11718.11719.16406zm4.28905 7.1484-1.3828-.5859-.5859-1.38281c-.0469-.07031-.0938-.11719-.1875-.11719-.0704 0-.1172.04688-.1641.11719l-.5625 1.38281-1.40625.5859c-.07031.0469-.11719.0938-.11719.1875 0 .0704.04688.1172.11719.1641l1.40625.5625.5625 1.4062c.0469.0704.0937.1172.1875.1172.0703 0 .1172-.0468.1641-.1172l.5859-1.4062 1.3828-.5625c.0703-.0469.1172-.0937.1172-.1875 0-.0703-.0469-.1172-.1172-.1641zm-2.8828-3.5859c-.02344-.21094-.14062-.39844-.32812-.49219l-2.46094-1.21875-1.21875-2.46094c-.1875-.375-.82031-.375-1.00781 0l-1.21876 2.46094-2.46093 1.21875c-.1875.09375-.328128.28125-.328128.51563 0 .21094.140628.39844.328128.49218l2.46093 1.21876 1.21876 2.46092c.09374.1875.28124.3281.51562.3281.21094 0 .39844-.1406.49219-.3281l1.21875-2.46092 2.46094-1.21876c.1875-.09374.30468-.28124.32812-.51562zm-3.44531.82031c-.11719.04688-.21094.14063-.25781.25781l-.79688 1.61719-.82031-1.61719c-.04688-.11718-.14063-.21093-.25781-.25781l-1.61719-.82031 1.61719-.79688c.11718-.04687.21093-.14062.25781-.25781l.82031-1.61719.79688 1.61719c.04687.11719.14062.21094.25781.25781l1.61719.79688z" fill="currentColor" /></svg>':"Customer Rating"===handle?'<svg fill="none" height="13" viewBox="0 0 14 13" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m6.32076.921936-1.5234 3.117204-3.4453.4921c-.609404.0938-.843803.84379-.398503 1.28909l2.461003 2.41411-.586 3.39836c-.0937.6094.5625 1.0781 1.1016.7969l3.0703-1.6172 3.04694 1.6172c.539.2812 1.1953-.1875 1.1015-.7969l-.5859-3.39836 2.4609-2.41411c.4454-.4453.211-1.19529-.3984-1.28909l-3.42194-.4921-1.5469-3.117204c-.2578-.5391-1.0546-.5625-1.3359 0z" fill="currentColor"/></svg>':"A - Z"===handle?'<svg width="15" height="15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m6.282 9.929-.113.404h-2.64l.067-.35.663-.271-.37-1.114c-.654.036-1.335.054-2.044.054l-.36 1.051.77.292-.066.338H0l.072-.392.667-.258 1.86-5.12.976-.145 2.05 5.294.657.217ZM3.678 7.968l-.824-2.452c-.028.178-.286.995-.775 2.452h1.6ZM14.516 8.689l.484.083-.338 1.51h-4.328l-.229-.626 3.445-4.708-2.315.196-.432.91-.534-.088.189-1.498.85.041h3.477l.167.51-3.462 4.778 2.506-.216.52-.892Z" fill="#252860"/><path d="m7.817 6.812-.738.738.738.738.738-.738-.738-.738Z" fill="#142363"/><path d="M7.817 9.213 6.154 7.551l1.663-1.663L9.48 7.55 7.817 9.213ZM6.513 7.551l1.304 1.304L9.121 7.55 7.817 6.247 6.513 7.55Z" fill="#142363"/></svg>':void 0};$(document).on("click",".collection-tabs .collection-tab",(function(e){var _this=$(this),slug=_this.data("slug"),tabSelectedClass="collection-tab--selected",contentsSelectedClass="collection-tab-content--selected",showMoreVisibleClass="show-more--visible";e.preventDefault(),_this.siblings().removeClass(tabSelectedClass),_this.addClass(tabSelectedClass),$(".collection-tab-content").removeClass(contentsSelectedClass),$(".collection-tab-content--"+slug).addClass(contentsSelectedClass),$(".show-more").removeClass("show-more--visible"),$(".show-more.show-more--"+slug).addClass("show-more--visible"),$(".filter-container").toggleClass("filter-container--disabled","products"!==slug)})),$(".collection-tab--products").trigger("click");var searchClient=algoliasearch("WHJHR7S7K3","791c01525613371c04a4f4a6e81046e3"),searchInstance=instantsearch({indexName:REBASE.theme.collection.default_index,searchClient:searchClient,routing:{stateMapping:instantsearch.stateMappings.singleIndex(REBASE.theme.collection.default_index)}}),customInfiniteHits=instantsearch.connectors.connectInfiniteHits(renderInfiniteHits);function renderInfiniteHits(renderOptions,isFirstRender){const{hits:hits,showMore:showMore,isLastPage:isLastPage}=renderOptions,container=$("#infinite-hits");if(isFirstRender)return $(".show-more.show-more--products .btn").on("click",showMore),void $(".show-more.show-more--products").addClass("show-more--visible");isLastPage&&$(".show-more.show-more--products").removeClass("show-more--visible");const renderItem=_.template(document.getElementById("hit_template").innerHTML);let renderedHits=hits.map((function(item){return renderItem({item:item})}));renderedHits=insertCollectionPromotions(renderedHits),container.html(renderedHits.join(""))}function insertCollectionPromotions(hits){const promotionTemplates=$(".collection-promo-item-html");return promotionTemplates.each((index,promo)=>{const $promo=$(promo);hits.splice($promo.data("position"),0,$promo.html())}),hits}var customInfiniteHitsPages=instantsearch.connectors.connectInfiniteHits(renderInfiniteHitsPages);function renderInfiniteHitsPages(renderOptions,isFirstRender){const{hits:hits,showMore:showMore,isLastPage:isLastPage}=renderOptions,container=$("#infinite-hits-pages");if(isFirstRender)return $(".show-more.show-more--pages .btn").on("click",showMore),void $(".show-more.show-more--pages").addClass("show-more--visible");isLastPage&&$(".show-more.show-more--pages").removeClass("show-more--visible");var renderItem=_.template(document.getElementById("page_hit_template").innerHTML);container.html(hits.map((function(item){return renderItem({item:item})})).join(""))}var customInfiniteHitsArticles=instantsearch.connectors.connectInfiniteHits(renderInfiniteHitsArticles);function renderInfiniteHitsArticles(renderOptions,isFirstRender){const{hits:hits,showMore:showMore,isLastPage:isLastPage}=renderOptions,container=$("#infinite-hits-articles");if(isFirstRender)return $(".show-more.show-more--articles .btn").on("click",showMore),void $(".show-more.show-more--articles").addClass("show-more--visible");isLastPage&&$(".show-more.show-more--articles").removeClass("show-more--visible");var renderItem=_.template(document.getElementById("article_hit_template").innerHTML);container.html(hits.map((function(item){return renderItem({item:item})})).join(""))}var createCurrentRefinementDataAttributes=function(refinement){return Object.keys(refinement).map(key=>`data-${key}="${refinement[key]}"`).join(" ")},renderCurrentRefinementsList=function(items,classes){return`\n      <div class="${classes.root}">\n        <ul class="${classes.list}">${items.map((function(item){return`${item.refinements.map((function(refinement){return`<li class="${classes.item}"><button class="${classes.delete}" ${createCurrentRefinementDataAttributes(refinement)}>&times;</button><span class="${classes.label}">${refinement.label}</span></li>`})).join("")}`})).join("")}</ul>\n      </div>\n    `},renderCurrentRefinements=function(renderOptions){var{items:items,refine:refine,widgetParams:widgetParams}=renderOptions;$(`${widgetParams.container}`).html(renderCurrentRefinementsList(items,widgetParams.cssClasses)),$(`${widgetParams.container} button`).each((function(i,el){$(el).on("click",(function(event){var item=Object.keys(event.currentTarget.dataset).reduce((acc,key)=>({...acc,[key]:event.currentTarget.dataset[key]}),{});refine(item)}))}))},customCurrentRefinements=instantsearch.connectors.connectCurrentRefinements(renderCurrentRefinements),renderSortBy=function(renderOptions,isFirstRender){var{options:options,currentRefinement:currentRefinement,refine:refine,widgetParams:widgetParams}=renderOptions,$container=$(widgetParams.container),label="Sort";if(isFirstRender){var dropdownBoilerplate=`\n        <div class="dropdown">\n          <div class="dropdown__label">\n            <span>${label}</span>${getSVGIcon("caret-down")}\n          </div>\n          <div class="dropdown__options"></div>\n        </div>\n      `;$container.append(dropdownBoilerplate),$container.on("click",".dropdown__option--sort",(function(e){var data=$(e.currentTarget).data();refine(data.value),$container.find(".dropdown__options").removeClass("dropdown__options--visible")}))}currentRefinement&&(selectedOption=options.filter((function(option){return option.value===currentRefinement}))[0],selectedOption&&(label=selectedOption.label),$container.find(".dropdown__label span").text(label)),$container.find(".dropdown__options").html(`\n      ${options.map((function(option){return`\n          <div class="dropdown__option dropdown__option--sort${currentRefinement===option.value?" dropdown__option--selected":""}" data-label="${option.label}" data-value="${option.value}">\n            <span class="dropdown__option-icon">${getSVGIcon(option.label)}</span>\n            <span class="dropdown__option-label">${option.label}</span>\n          </div>\n        `})).join("")}\n    `)},customSortBy=instantsearch.connectors.connectSortBy(renderSortBy),widgetSettings={currentRefinementsCssClasses:{root:"filter-current",list:"filter-current__list",item:"filter-current__list-item",label:"filter-current__list-item-label",delete:"filter-current__delete"},filterPanelCollapsibleButtonText:"{{#collapsed}}&plus;{{/collapsed}}{{^collapsed}}&ndash;{{/collapsed}}",filterPanelCssClasses:{root:"filter-panel",header:"filter-panel__header",body:"filter-panel__body",footer:"filter-panel__footer",collapsedRoot:"filter-panel--collapsed",collapseButton:"filter-panel__header-btn"},refinementListCssClasses:{root:"filter-panel__list-root",list:"filter-panel__list",item:"filter-panel__list-item",selectedItem:"filter-panel__list-item--selected",label:"filter-panel__list-item-label",checkbox:"filter-panel__list-item-checkbox",showMore:"filter-panel__show-more btn btn--small btn--alt",disabledShowMore:"filter-panel__show-more--disabled btn btn--small btn--alt disabled",count:"filter-panel__list-count"},numericMenuCssClasses:{root:"",noRefinementRoot:"",list:"filter-panel__list",item:"filter-panel__list-item",selectedItem:"filter-panel__list-item--selected",label:"filter-panel__list-item-label",radio:"filter-panel__list-item-radio"},hierarchicalMenuCssClasses:{root:"filter-panel__list-root",list:"filter-panel__list",childList:"filter-panel__child-list",item:"filter-panel__list-item filter-panel__list-item--link",selectedItem:"filter-panel__list-item--selected",label:"filter-panel__list-item-label"},filterListCheckboxItemTemplate:'\n      <div class="form__field form__field--checkbox">\n        <label for="{{value}}" class="{{ cssClasses.label }}">\n          <input type="checkbox" class="{{ cssClasses.checkbox }}" {{#isRefined}}checked{{/isRefined}} id="{{value}}" />\n          <span class="checkmark"></span>\n          <span class="{{ cssClasses.labelText }}"></span>{{label}}\n        </label>\n      </div>\n    ',numericMenuItemTemplate:'\n      <div class="form__field form__field--radio">\n        <input type="radio" class="{{ cssClasses.radio }}" {{#isRefined}} checked{{/isRefined}} name="{{attribute}}"  />\n        <span class="radio"></span>\n        <label {{ cssClasses.label }}>{{ label }}</label>\n      </div>\n    '},numericMenuWithPanel=function(header,facet){return instantsearch.widgets.panel({collapsed:function({state:state}){return 0===Object.keys(state.numericRefinements[facet]).length},templates:{header:header,collapseButtonText:widgetSettings.filterPanelCollapsibleButtonText},cssClasses:widgetSettings.filterPanelCssClasses})(instantsearch.widgets.numericMenu)};function refinementListWithPanel(header,facet){return instantsearch.widgets.panel({hidden:function({results:results}){return 0===results.disjunctiveFacets.filter(f=>f.name===facet&&Object.keys(f.data).length>=2).length},collapsed:function({state:state}){return 0===state.disjunctiveFacetsRefinements[facet].length},templates:{header:header,collapseButtonText:widgetSettings.filterPanelCollapsibleButtonText},cssClasses:widgetSettings.filterPanelCssClasses})(instantsearch.widgets.refinementList)}function hierarchicalMenuWithPanel(header,facet){return instantsearch.widgets.panel({hidden:function({results:results}){return 0===results.hierarchicalFacets.filter(f=>f.name===facet&&f.data.length>=1).length},collapsed:function({state:state}){return 0===state.hierarchicalFacetsRefinements[facet].length},templates:{header:header,collapseButtonText:widgetSettings.filterPanelCollapsibleButtonText},cssClasses:widgetSettings.filterPanelCssClasses})(instantsearch.widgets.hierarchicalMenu)}searchInstance.addWidgets([instantsearch.widgets.configure({hitsPerPage:parseInt(REBASE.theme.collection.hitsPerPage)||48,filters:REBASE.theme.collection.initialCollectionFilter||""}),instantsearch.widgets.analytics({pushInitialSearch:!1,pushFunction(){void 0!==window.ga&&(window.ga("set","page",window.location.pathname+window.location.search),window.ga("send","pageView"))}}),customCurrentRefinements({container:"#refinement-current",cssClasses:widgetSettings.currentRefinementsCssClasses,excludedAttributes:["price"]}),refinementListWithPanel("Brand","vendor")({container:"#refinement-vendor",attribute:"vendor",sortBy:["name:asc","name:desc"],limit:1e3,cssClasses:widgetSettings.refinementListCssClasses,templates:{item:widgetSettings.filterListCheckboxItemTemplate}}),refinementListWithPanel("Origin","named_tags.Origin")({container:"#refinement-origin",attribute:"named_tags.Origin",sortBy:["name:asc","name:desc"],limit:1e3,cssClasses:widgetSettings.refinementListCssClasses,templates:{item:widgetSettings.filterListCheckboxItemTemplate}}),refinementListWithPanel("Scent","named_tags.Scent")({container:"#refinement-scent",attribute:"named_tags.Scent",sortBy:["name:asc","name:desc"],limit:1e3,cssClasses:widgetSettings.refinementListCssClasses,templates:{item:widgetSettings.filterListCheckboxItemTemplate}}),numericMenuWithPanel("Price","price")({container:"#refinement-price",attribute:"price",items:[{label:"All"},{label:"< $30",end:30},{label:"$30 - $50",start:30,end:50},{label:"$50 - $100",start:50,end:100},{label:"$100 +",start:100}],cssClasses:widgetSettings.numericMenuCssClasses,templates:{item:widgetSettings.numericMenuItemTemplate}}),customSortBy({container:"#sort-by",items:[{label:"Customer Rating",value:REBASE.theme.collection.algolia_indexes.rating},{label:"Best Sellers",value:REBASE.theme.collection.algolia_indexes.main},{label:"New Arrivals",value:REBASE.theme.collection.algolia_indexes.new_arrivals},{label:"Price (asc)",value:REBASE.theme.collection.algolia_indexes.price_asc},{label:"Price (desc)",value:REBASE.theme.collection.algolia_indexes.price_desc},{label:"A - Z",value:REBASE.theme.collection.algolia_indexes.title_asc}]}),instantsearch.widgets.clearRefinements({container:"#refinement-clear",templates:{resetLabel:"Clear"},cssClasses:{button:"btn btn--secondary btn--block"}}),customInfiniteHits()]),$("#hierarchical-menu-category").length&&searchInstance.addWidgets([hierarchicalMenuWithPanel("Category","named_tags.Category1")({container:"#hierarchical-menu-category",separator:" / ",templates:{item:'<a class="{{cssClasses.link}}" href="{{url}}"><span class="{{cssClasses.label}}">{{label}}</span></a>'},cssClasses:widgetSettings.hierarchicalMenuCssClasses,attributes:["named_tags.Category1","named_tags.Category2","named_tags.Category3","named_tags.Category4"]})]),REBASE.theme.collection.hasSearchWidget&&searchInstance.addWidgets([instantsearch.widgets.searchBox({container:"#searchbox",placeholder:"Search...",autofocus:!0,showReset:!1,showSubmit:!1,cssClasses:{reset:"visually-hidden",submit:"visually-hidden"}}),instantsearch.widgets.stats({container:"#products_stats",templates:{text:"\n            {{#hasNoResults}}(0){{/hasNoResults}}\n            {{#hasOneResult}}(1){{/hasOneResult}}\n            {{#hasManyResults}}({{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}}){{/hasManyResults}}\n          "}}),instantsearch.widgets.index({indexName:"pages"}).addWidgets([customInfiniteHitsPages(),instantsearch.widgets.stats({container:"#pages_stats",templates:{text:"\n              {{#hasNoResults}}(0){{/hasNoResults}}\n              {{#hasOneResult}}(1){{/hasOneResult}}\n              {{#hasManyResults}}({{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}}){{/hasManyResults}}\n            "}})]),instantsearch.widgets.index({indexName:"articles"}).addWidgets([customInfiniteHitsArticles(),instantsearch.widgets.stats({container:"#articles_stats",templates:{text:"\n              {{#hasNoResults}}(0){{/hasNoResults}}\n              {{#hasOneResult}}(1){{/hasOneResult}}\n              {{#hasManyResults}}({{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}}){{/hasManyResults}}\n            "}})])]),searchInstance.start()}(jQuery);